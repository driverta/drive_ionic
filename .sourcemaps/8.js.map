{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACF;AAU9C,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAR5B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,mEAAkB;SACnB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,mEAAkB,CAAC;SAC7C;KACF,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZa;AACgC;AAEzB;AAEjB;AAEhC;;;;;GAKG;AAOH,IAAa,kBAAkB;IAQ7B,4BAAmB,SAA0B,EAAS,OAAsB,EAAS,SAAoB,EAAS,IAAU;QAAzG,cAAS,GAAT,SAAS,CAAiB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,SAAI,GAAJ,IAAI,CAAM;QAN7H,iBAAY,GAAQ,EAAE,CAAC;QACvB,UAAK,GAAQ,EAAE,CAAC;QAEf,YAAO,GAAG,EAAE,CAAC;QACb,SAAI,GAAG,CAAC,CAAC;IAGT,CAAC;IAED,6CAAgB,GAAhB;QAAA,iBAcC;QAbA,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChC,IAAI,MAAM,GAAG,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAE/C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAE,kBAAQ;YAEjC,QAAQ,CAAC,OAAO,CAAE,uBAAa;gBAE7B,IAAI,UAAU,GAAG,aAAa,CAAC,GAAG,EAAE,CAAC;gBACrC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;gBAC3B,+BAA+B;YACjC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAQ,GAAR,UAAS,EAAE;QACT,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAC1B,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAC,CAAC;YACxC,EAAE,EAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;gBACjB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,IAAI,CAAC;gBACb,CAAC;gBACH,MAAM,CAAC,KAAK,CAAC;YACb,CAAC;QACH,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,6CAAgB,GAAhB,UAAiB,IAAI;QAArB,iBAqBC;QApBC,IAAI,KAAK,GAAG,IAAI,CAAC;QAEjB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAE,eAAK;YAEzB,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAE5B,KAAI,CAAC,gBAAgB,EAAE,CAAC;gBACxB,KAAK,GAAG,KAAK,CAAC;YAChB,CAAC;QACH,CAAC,CAAC;QAEF,EAAE,EAAC,KAAK,CAAC,EAAC;YACR,IAAI,SAAS,GAAG,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,CAAC;YAC5E,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAErC,IAAI,WAAW,GAAG,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,CAAC;YAC5E,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpD,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;IAEH,CAAC;IAED,6CAAgB,GAAhB;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,4CAA4C;YACnD,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,wCAAW,GAAX;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,mCAAmC;YAC1C,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IACH,yBAAC;AAAD,CAAC;AAjFY,kBAAkB;IAJ9B,wEAAS,CAAC;QACT,QAAQ,EAAE,aAAa;OACG;KAC3B,CAAC;uBAS4H;AAyE7H;SAjFY,kBAAkB,O","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddCompetitorsPage } from './search';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddCompetitorsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddCompetitorsPage),\r\n  ],\r\n})\r\nexport class SearchPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\n\r\nimport { User } from '../../providers/providers';\r\n\r\nimport firebase from 'firebase';\r\n\r\n/**\r\n * Generated class for the SearchPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'search.html',\r\n})\r\nexport class AddCompetitorsPage {\r\n\r\n\tcurrentItems: any = [];\r\n\tusers: any = [];\r\n\tusername: any;\r\n  players = [];\r\n  loop = 0;\r\n\r\n  constructor(public alertCtrl: AlertController, public navCtrl: NavController, public navParams: NavParams, public user: User) {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n  \tthis.users = [];\r\n    this.username = this.user._user;\r\n    var query1 = firebase.database().ref(\"/users\");\r\n\r\n    query1.once(\"value\").then( snapshot => {\r\n      \r\n      snapshot.forEach( childSnapshot => {\r\n        \r\n        var childData1 = childSnapshot.val();\r\n        this.users.push(childData1)\r\n        //alert(this.user._user);      \r\n      });\r\n    });\r\n  }\r\n\r\n  getItems(ev) {\r\n    let val = ev.target.value;\r\n    if (!val || !val.trim()) {\r\n      this.currentItems = [];\r\n      return;\r\n    }\r\n    this.currentItems = this.users.filter((v) => {\r\n    if(v.name && val) {\r\n      if (v.name.toLowerCase().indexOf(val.toLowerCase()) > -1) {\r\n        return true;\r\n\t      }\r\n\t    return false;\r\n\t    }\r\n\t  });\r\n  }\r\n\r\n  addToLeaderboard(item){\r\n    var check = true;\r\n    \r\n    this.players.forEach( value => {\r\n\r\n      if (value.name == item.name) {\r\n\r\n        this.alreadyCompeting();\r\n        check = false;\r\n      } \r\n    })\r\n  \t\r\n    if(check){\r\n      var competing = firebase.database().ref('/' + this.username + '/competing');\r\n      competing.child(item.name).set(item);\r\n\r\n      var competitors = firebase.database().ref('/' + item.name + '/competitors');\r\n      competitors.child(this.username).set(this.username);\r\n      this.playerAdded();\r\n    }\r\n  \t\r\n  }\r\n\r\n  alreadyCompeting() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'You are already Cometing with this player!',\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  playerAdded() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Player added to your leaderboard!',\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}