{"version":3,"sources":["../../src/pages/exercise-detail/exercise-detail.module.ts","../../src/pages/exercise-detail/exercise-detail.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { ItemDetailPage } from './exercise-detail';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ItemDetailPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ItemDetailPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    ItemDetailPage\r\n  ]\r\n})\r\nexport class ItemDetailPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/exercise-detail/exercise-detail.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { Items } from '../../providers/providers';\r\nimport { Records } from '../../providers/providers';\r\nimport { User } from '../../providers/providers';\r\nimport { Levels } from '../../providers/providers';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-exercise-detail',\r\n  templateUrl: 'exercise-detail.html'\r\n})\r\nexport class ItemDetailPage {\r\n  exercise: any;\r\n  xlevel = 1;\r\n\txcurrent = 25;\r\n\txtotal = 100;\r\n\tprogress = 75;\r\n  weight = 100;\r\n  reps = 10;\r\n  gains = 0;\r\n  username: any;\r\n  segment: any;\r\n  loop = 0;\r\n\r\n  history = [];\r\n  myRecords = [];\r\n\r\n  constructor(public navCtrl: NavController,\r\n    navParams: NavParams,\r\n    items: Items,\r\n    public user: User,\r\n    private records: Records,\r\n    public levels: Levels) {\r\n\r\n    this.exercise = navParams.get('item') || items.defaultItem;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.username = this.user._user\r\n    this.myRecords = [];\r\n    this.history = [];\r\n\r\n    var queryHistory = firebase.database().ref('/' + this.username + '/exercises/' + this.exercise.name + '/history');\r\n    queryHistory.once(\"value\").then( snapshot => {\r\n      snapshot.forEach( childSnapshot => {\r\n        var childData1 = childSnapshot.val();\r\n        this.history.push(childData1);     \r\n      });\r\n    });\r\n    \r\n    var queryGains = firebase.database().ref('/' + this.username + '/gains');\r\n    queryGains.once(\"value\").then( snapshot => {\r\n      this.loop = 0;\r\n      this.gains = 0;\r\n      snapshot.forEach( childSnapshot => {\r\n        this.loop++\r\n        var childData2 = childSnapshot.val();\r\n        var gains = childData2.gains;\r\n        this.gains = this.gains + gains\r\n        if ( snapshot.numChildren() == this.loop )\r\n          this.setLevel()\r\n      })\r\n    })\r\n\r\n    var queryRecords = firebase.database().ref('/' + this.username + '/exercises/' + this.exercise.name + '/records');\r\n    queryRecords.once(\"value\").then( snapshot => {\r\n      snapshot.forEach( childSnapshot => {\r\n        var childData1 = childSnapshot.val();\r\n        this.myRecords.push(childData1);     \r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  setLevel () {\r\n    this.levels._levels.forEach( ( value, index) => {\r\n      if (this.gains > value.totalPoints) {\r\n        this.xcurrent = this.gains - value.totalPoints;\r\n        this.xlevel = value.level;\r\n        this.xtotal = value.levelPoints;\r\n        this.progress = this.xcurrent / this.xtotal * 100\r\n      }\r\n    });\r\n  }\r\n\r\n  addSet() {\r\n    var date = new Date().toISOString();\r\n    var oneRM = this.weight / (1.0278- (this.reps * .0278));\r\n    var gains = 5;\r\n\r\n    this.myRecords.forEach( (value, index) => {\r\n      if (this.reps == value.reps) {\r\n        if (this.weight > value.weight) {\r\n          this.myRecords[index].weight = this.weight;\r\n          this.myRecords[index].oneRM = oneRM;\r\n          this.myRecords[index].records++;\r\n          gains = 10;\r\n        }\r\n      }\r\n    });\r\n\r\n    var set = { date: date, weight: this.weight, reps: this.reps, oneRM: oneRM, gains: gains};\r\n    var g = { date: date, gains: gains};\r\n    \r\n    var history = firebase.database().ref('/' + this.username + '/exercises/' + this.exercise.name + '/history');\r\n    history.push(set);\r\n\r\n    var points = firebase.database().ref('/' + this.username + '/gains');\r\n    points.push(g);\r\n\r\n    var records = firebase.database().ref('/' + this.username + '/exercises/' + this.exercise.name + '/records');\r\n    records.set(this.myRecords);\r\n\r\n    this.ionViewDidLoad();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/exercise-detail/exercise-detail.ts"],"sourceRoot":""}

