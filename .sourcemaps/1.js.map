{"version":3,"sources":["../../src/pages/leaderboard/leaderboard.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/sort-by-gains/sort-by-gains.ts","../../src/pipes/sort-by-reps/sort-by-reps.ts","../../src/pages/leaderboard/leaderboard.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { SearchPage } from './leaderboard';\r\nimport { PipesModule } from '../../pipes/pipes.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SearchPage),\r\n    TranslateModule.forChild(),\r\n    PipesModule\r\n  ],\r\n  exports: [\r\n    SearchPage\r\n  ]\r\n})\r\nexport class SearchPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leaderboard/leaderboard.module.ts","import { NgModule } from '@angular/core';\nimport { SortByGainsPipe } from './sort-by-gains/sort-by-gains';\nimport { SortByRepsPipe } from './sort-by-reps/sort-by-reps';\n@NgModule({\n\tdeclarations: [SortByGainsPipe,\n    SortByRepsPipe],\n\timports: [],\n\texports: [SortByGainsPipe,\n    SortByRepsPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the SortByGainsPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'sortByGains',\n  pure: false\n})\nexport class SortByGainsPipe implements PipeTransform {\n  transform(array: any, args: any): any {\n  \t//alert(\"What\");\n    array.sort((a: any, b: any) => {\n    \t\n      if (a.gains < b.gains) {\n        return -1;\n      } else if (a.gains > b.gains) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    return array.reverse();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/sort-by-gains/sort-by-gains.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the SortByRepsPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'sortByReps',\n  pure: false\n})\nexport class SortByRepsPipe implements PipeTransform {\n  transform(array: any, args: any): any {\n  \t//alert(\"What\");\n    array.sort((a: any, b: any) => {\n    \t\n      if (a.reps < b.reps) {\n        return -1;\n      } else if (a.reps > b.reps) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    return array;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/sort-by-reps/sort-by-reps.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\n\r\nimport { User } from '../../providers/providers';\r\nimport { Levels } from '../../providers/providers';\r\nimport { SortByGainsPipe } from '../../pipes/sort-by-gains/sort-by-gains'\r\n\r\nimport firebase from 'firebase';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-leaderboard',\r\n  templateUrl: 'leaderboard.html'\r\n})\r\nexport class SearchPage {\r\n\r\n  currentItems: any = [];\r\n  timeFilter = \"All Time\"\r\n  username: any;\r\n  loop = 0;\r\n  gains = 0;\r\n  loop2 = 0;\r\n\r\n  players= [\r\n    {name: \"tom\", level: 3, gains: 100, profilePic: \"\"}\r\n  ]\r\n\r\n  constructor(public alertCtrl: AlertController, public user: User, public levels: Levels, public navCtrl: NavController, public navParams: NavParams) { }\r\n\r\n  addCompetitors() {\r\n    this.navCtrl.push('AddCompetitorsPage')\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.username = this.user._user;\r\n    this.players = [];\r\n\r\n    var queryPlayers = firebase.database().ref('/' + this.username + '/competing');\r\n    queryPlayers.once(\"value\").then( snapshot => {\r\n      this.loop = 0;\r\n      snapshot.forEach( childSnapshot => {\r\n        this.loop++\r\n        var childData1 = childSnapshot.val();\r\n        var data = {name: childData1.name, level: 0, gains: 0, profilePic: \"\"};\r\n        this.players.push(data);\r\n        if ( snapshot.numChildren() == this.loop ) {\r\n          this.getGains();\r\n          this.getPic();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  getGains() {\r\n    this.players.forEach( (value, index) => {\r\n      var queryGains = firebase.database().ref('/' + value.name + '/gains');\r\n      queryGains.once(\"value\").then( snapshot => {\r\n        this.loop = 0;\r\n        this.gains = 0;\r\n        snapshot.forEach( childSnapshot => {\r\n          this.loop++\r\n          var childData1 = childSnapshot.val();\r\n          var gains = childData1.gains;\r\n          this.gains = this.gains + gains\r\n          if ( snapshot.numChildren() == this.loop ) {\r\n            value.gains = this.gains\r\n            this.setLevel(this.gains, index)\r\n          }\r\n        });\r\n      });\r\n    })\r\n  }\r\n\r\n  getPic() {\r\n    this.players.forEach( value => {\r\n      var queryGains = firebase.database().ref('/users');\r\n      queryGains.once(\"value\").then( snapshot => {\r\n        snapshot.forEach( childSnapshot => {\r\n          var childData1 = childSnapshot.val();\r\n          if (childData1.name == value.name){\r\n            value.profilePic = childData1.profilePic;\r\n          }\r\n        });\r\n      });\r\n    })\r\n  }\r\n\r\n  setLevel (gains, i) {\r\n    this.levels._levels.forEach( value => {\r\n      if (gains > value.totalPoints) {\r\n        this.players[i].level = value.level;\r\n      }\r\n    });\r\n  }\r\n\r\n  filterDay(ev) {\r\n    var todaysDate = new Date().toISOString().slice(0,10);\r\n    var lastWeek = new Date();\r\n    var lastMonth = new Date();\r\n    lastWeek.setDate(lastWeek.getDate() - 7)\r\n\r\n    lastMonth.setDate(lastMonth.getDate() - 30)\r\n    if(ev == \"All Time\"){\r\n      this.ionViewWillEnter();\r\n    }else{\r\n      this.players.forEach( (value, index) => {\r\n      var queryGains = firebase.database().ref('/' + value.name + '/gains');\r\n      queryGains.once(\"value\").then( snapshot => {\r\n        this.loop = 0;\r\n        this.gains = 0;\r\n        snapshot.forEach( childSnapshot => {\r\n          this.loop++\r\n          var childData1 = childSnapshot.val();\r\n          var gains = childData1.gains;\r\n          var date = childData1.date;\r\n          var newDate = date.slice(0,10);\r\n          //alert(newDate);\r\n          var testDate = new Date(newDate);\r\n          \r\n          //alert(testDate);\r\n          if(ev == \"Today\"){\r\n\r\n            if(newDate == todaysDate) {\r\n              this.gains = this.gains + gains;\r\n            }\r\n          }\r\n          if(ev == \"Week\"){\r\n            \r\n            if(testDate > lastWeek) {\r\n              this.gains = this.gains + gains;\r\n            }\r\n          }\r\n          if(ev == \"Month\"){\r\n            if(testDate > lastMonth) {\r\n              this.gains = this.gains + gains;\r\n            }\r\n          }\r\n          \r\n          if ( snapshot.numChildren() == this.loop ) {\r\n            value.gains = this.gains;\r\n            \r\n          }\r\n        });\r\n      });\r\n    })\r\n    }\r\n  }\r\n\r\n  presentConfirm(x) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Delete?',\r\n      message: 'Do you want to remove ' + x.name + ' from your leaderboard?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          handler: () => {\r\n            this.deleteSet(x);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  deleteSet(x) {\r\n\r\n    var set = x;\r\n    var query1 = firebase.database().ref('/' + this.username + '/competing');\r\n    query1.once(\"value\").then( snapshot => {\r\n      snapshot.forEach( childSnapshot => {\r\n        var childData1 = childSnapshot.val();\r\n        if (x.name == childData1.name) {\r\n          childSnapshot.getRef().remove().then(() => {\r\n            console.log('Write succeeded!');\r\n            this.ionViewWillEnter();\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/leaderboard/leaderboard.ts"],"sourceRoot":""}