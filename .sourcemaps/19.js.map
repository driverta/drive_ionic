{"version":3,"sources":["../../src/pages/friend-profile/friend-profile.module.ts","../../src/pages/friend-profile/friend-profile.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FriendProfilePage } from './friend-profile';\n\n@NgModule({\n  declarations: [\n    FriendProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FriendProfilePage),\n  ],\n})\nexport class FriendProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friend-profile/friend-profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Levels } from '../../providers/providers';\n\nimport firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-friend-profile',\n  templateUrl: 'friend-profile.html',\n})\nexport class FriendProfilePage {\n\n\tusername: any;\n\tuser: any;\n\txlevel = 1;\n  xcurrent = 25;\n  xtotal = 100;\n  progress = 25;\n  gains = 0;\n  records = 0;\n  competing = 0;\n  competitors = 0;\n  loop = 0;\n\n  constructor(public navCtrl: NavController, \n  \tpublic navParams: NavParams,\n  \tpublic levels: Levels) {\n\n  \tthis.user = navParams.get('item');\n  \tthis.username = this.user.name;\n  }\n\n  ionViewDidLoad() {\n    var queryGains = firebase.database().ref('/' + this.username + '/gains');\n    queryGains.once(\"value\").then( snapshot => {\n      this.loop = 0;\n      this.gains = 0;\n      this.records = 0;\n      snapshot.forEach( childSnapshot => {\n        this.loop++\n        var childData1 = childSnapshot.val();\n        var gains = childData1.gains;\n        this.gains = this.gains + gains\n        if (gains == 10){\n          this.records++;\n        }\n        if ( snapshot.numChildren() == this.loop )\n          this.setLevel()\n      })\n    })\n\n    var queryCompeting = firebase.database().ref('/' + this.username + '/competing');\n    queryCompeting.once(\"value\").then( snapshot => {\n      this.competing = 0;\n      snapshot.forEach( childSnapshot => {\n        this.competing++\n      })\n    })\n\n    var queryCompetitors = firebase.database().ref('/' + this.username + '/competitors');\n    queryCompetitors.once(\"value\").then( snapshot => {\n      this.competitors = 0;\n      snapshot.forEach( childSnapshot => {\n        this.competitors++\n      })\n    })\n  }\n\n  setLevel () {\n    this.levels._levels.forEach( ( value, index) => {\n      if (this.gains > value.totalPoints) {\n        this.xcurrent = this.gains - value.totalPoints;\n        this.xlevel = value.level;\n        this.xtotal = value.levelPoints;\n        this.progress = this.xcurrent / this.xtotal * 100\n      }\n    });\n  }\n\n  getProfileImageStyle() {\n\n    try {\n      //this.noLoad();\n      return 'url(' + this.user.profilePic + ')'\n    }\n    catch(err){\n\n    }\n    finally{\n      \n    }\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friend-profile/friend-profile.ts"],"sourceRoot":""}