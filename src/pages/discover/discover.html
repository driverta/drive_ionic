<ion-header>

  <ion-navbar>
    <ion-title>Discover</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div padding>
    
    <ion-segment [(ngModel)]="segment">
      <ion-segment-button  value="discover_people">
        People
      </ion-segment-button>
      <ion-segment-button value="discover_excercises">
        Excercises
      </ion-segment-button>
    </ion-segment>
   
  </div>

  <div [ngSwitch]="segment">
    <ion-list *ngSwitchCase="'discover_people'">
      <ion-searchbar (ionInput)="getItems($event)" placeholder="search usernames to compete with friends"></ion-searchbar>
      <ion-list>
        <ion-item *ngFor="let item of currentItems" (click)="openItem(item)">
          <ion-avatar item-start>
            <img *ngIf="item.profilePic != 'data:image/jpeg;base64,NahNigga'" [src]="item.profilePic" />
            <ion-icon *ngIf="item.profilePic == 'data:image/jpeg;base64,NahNigga'" class="default-img" name="contact"></ion-icon>
          </ion-avatar>

          <h2>{{item.username}}
            <button ion-button icon-only (click)="addToLeaderboard(item)">
              <ion-icon name="add"></ion-icon>
            </button>
          </h2>

          <ion-note item-end *ngIf="item.note">{{item.note}}</ion-note>
        </ion-item>
      </ion-list>
      <!--
      <table>
        <tr>
          <td></td>
          <td>Player</td>
          <td>Gains</td>
          <td></td>
        </tr>
        <tr *ngFor="let player of likelyFriends | sortByGains" [ngClass]="{red: player.name == username}">
          <td>
            <ion-item no-lines>
              <ion-avatar>
                <img *ngIf="player.profilePic != null" [src]="player.profilePic" />
                <ion-icon class="default-img" *ngIf="player.profilePic == null" name="contact"></ion-icon>
              </ion-avatar>
            </ion-item>
          </td>
          <td>{{player.name}}</td>
          <td>{{player.gains}}</td>

          <td>
            <button ion-button icon-only (click)="addToLeaderboard(player)">
              <ion-icon name="add"></ion-icon>
            </button>
          </td>
        </tr>
      </table>
      -->
    </ion-list>
    <ion-list *ngSwitchCase="'discover_excercises'">
      <ion-searchbar (ionInput)="getExercises($event)" placeholder="Search Exercises"></ion-searchbar>
      <ion-list>
        <ion-item *ngFor="let item of currentExercises">
          <h2>{{item.exerciseName}} - {{item.variation}} - {{item.MuscleGroup.muscleGroupName}}</h2>
          <button ion-button icon-only (click)="addToExercises(item)">
            <ion-icon name="add"></ion-icon>
          </button>
            
          <ion-note item-end *ngIf="item.note">{{item.note}}</ion-note>
        </ion-item>
      </ion-list>
    </ion-list>
    <h3 *ngIf="show" id="loading">Loading</h3>
  </div>
</ion-content>