<ion-header>

  <ion-navbar>
    <ion-title>Discover</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <div padding>
    <ion-segment [(ngModel)]="segment">
      <ion-segment-button (click)="fetchLikelyFriends()" value="discover_people">
        People
      </ion-segment-button>
      <ion-segment-button (click)="fetchLikelyExcercises()" value="discover_excercises">
        Excercises
      </ion-segment-button>
    </ion-segment>
  </div>
  
  <div [ngSwitch]="segment">
    <ion-list *ngSwitchCase="'discover_people'">
      <ion-searchbar (ionInput)="getItems($event)" placeholder="search usernames to compete with friends"></ion-searchbar>
      <ion-list>
        <ion-item *ngFor="let item of currentItems">
          
          <ion-avatar item-start>
            <img [src]="item.profilePic" />
          </ion-avatar>
          
          <h2>{{item.name}}
            <button ion-button icon-only (click)="addToLeaderboard(item)">
              <ion-icon name="add"></ion-icon>
            </button>
          </h2>
            
          <ion-note item-end *ngIf="item.note">{{item.note}}</ion-note>
        </ion-item>
      </ion-list>
      
      <ion-item>
        <ion-label>Friends You Might Follow</ion-label>
        <ion-list>
          <ion-item *ngFor="let friend of possibleFriends">
            
            <ion-avatar item-start>
              <img [src]="item.profilePic" />
            </ion-avatar>
            
            <h2>{{item.name}}
              <button ion-button icon-only (click)="addToLeaderboard(item)">
                <ion-icon name="add"></ion-icon>
              </button>
            </h2>
              
          </ion-item>
        </ion-list>
      </ion-item>
      
      <ion-list [hidden]="selectedValue!=1" ></ion-list>

    </ion-list>
	</div>
</ion-content>
