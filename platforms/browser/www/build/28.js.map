{"version":3,"sources":["../../src/pages/friend-profile/friend-profile.module.ts","../../src/pages/friend-profile/friend-profile.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FriendProfilePage } from './friend-profile';\n\n@NgModule({\n  declarations: [\n    FriendProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FriendProfilePage),\n  ],\n})\nexport class FriendProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friend-profile/friend-profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { Levels } from '../../providers/providers';\nimport { ProvidersUserProvider } from '../../providers/providers-user/providers-user';\n\nimport firebase from 'firebase';\n\n@IonicPage()\n@Component({\n  selector: 'page-friend-profile',\n  templateUrl: 'friend-profile.html',\n})\nexport class FriendProfilePage {\n\n\tusername: any;\n\tuser: any;\n  myUsername: any;\n  players = [];\n  rank = \"Frail Body\"\n  weight = 0\n  height = \"0\"\n  gym = \"gym\"\n  location = \"location\"\n\txlevel = 1;\n  xcurrent = 25;\n  xtotal = 100;\n  progress = 25;\n  gains = 0;\n  records = 0;\n  competing = 0;\n  competitors = 0;\n  competingList = [];\n  competitorsList = [];\n  realCompetitorsList = [];\n  loop = 0;\n  exercisesLength = 0;\n\n  constructor(public navCtrl: NavController, \n  \tpublic navParams: NavParams,\n  \tpublic levels: Levels,\n    public alertCtrl: AlertController,\n    private userService: ProvidersUserProvider) {\n\n  \tthis.user = navParams.get('item');\n    this.username = this.user.name;\n    this.myUsername = this.userService.getUser().username;\n  }\n\n  ionViewDidLoad() {\n    \n    this.weight = this.user.weight;\n    this.height = this.user.height;\n    this.gym = this.user.gym;\n    this.location = this.user.location;\n    //this.gym = data.gym;\n\n    this.userService.getTotalGains(this.user.id).subscribe(totalGains => {\n      console.log(totalGains);\n      this.gains = totalGains;\n      this.setLevel();\n    });;\n\n    // var queryGains = firebase.database().ref('/' + this.username + '/gains');\n    // queryGains.once(\"value\").then( snapshot => {\n    //   this.loop = 0;\n    //   this.gains = 0;\n    //   this.records = 0;\n    //   snapshot.forEach( childSnapshot => {\n    //     this.loop++\n    //     var childData1 = childSnapshot.val();\n    //     var gains = childData1.gains;\n    //     this.gains = this.gains + gains\n    //     if (gains == 10){\n    //       this.records++;\n    //     }\n    //     if ( snapshot.numChildren() == this.loop )\n    //       this.setLevel()\n    //   })\n    // })\n\n    this.userService.getCompetingUsers(this.user.id).subscribe(data => {\n      this.competingList = data;\n      console.log(this.competingList);\n      this.competing = this.competingList.length;\n    })\n\n    // var queryCompeting = firebase.database().ref('/' + this.username + '/competing');\n    // queryCompeting.once(\"value\").then( snapshot => {\n    //   this.competing = 0;\n    //   this.competingList = [];\n    //   snapshot.forEach( childSnapshot => {\n    //     var childData1 = childSnapshot.val();\n    //     this.competingList.push(childData1)\n    //     //console.log(this.competingList)\n    //     this.competing++\n    //     //console.log(this.competing)\n    //   })\n    // })\n\n    this.userService.getCompetitors(this.user.id).subscribe(data => {\n      this.competitorsList = data;\n      console.log(this.competitorsList);\n      this.competitors = this.competitorsList.length;\n    })\n    \n    // var queryCompetitors = firebase.database().ref('/' + this.username + '/competitors');\n    // queryCompetitors.once(\"value\").then( snapshot => {\n    //   this.competitors = 0;\n    //   this.competitorsList = [];\n    //   snapshot.forEach( childSnapshot => {\n    //     this.competitors++\n    //     var childData1 = childSnapshot.val();\n    //     this.competitorsList.push(childData1);\n        \n    //   })\n    // })\n\n    // var queryWeight = firebase.database().ref('/users/' + this.username + '/weight');\n    // queryWeight.once(\"value\").then( snapshot => {\n    //   var weight = snapshot.val();\n    //   if (weight){\n    //     this.weight = weight\n    //   }\n    // })\n\n    // var queryHeight = firebase.database().ref('/users/' + this.username + '/height');\n    // queryHeight.once(\"value\").then( snapshot => {\n    //   var height = snapshot.val();\n    //   if (height){\n    //     this.height = height\n    //   }\n    // })\n\n    // var queryGym = firebase.database().ref('/users/' + this.username + '/gym');\n    // queryGym.once(\"value\").then( snapshot => {\n    //   var gym = snapshot.val();\n    //   if (gym){\n    //     this.gym = gym\n    //   }\n    // })\n\n    // var queryLocation = firebase.database().ref('/users/' + this.username + '/location');\n    // queryLocation.once(\"value\").then( snapshot => {\n    //   var location = snapshot.val();\n    //   if (location){\n    //     this.location = location\n    //   }\n    // })\n\n    this.userService.getCompetingUsersExercises(this.user.id).subscribe(exercises => {\n      this.exercisesLength = exercises.length;\n    });\n\n    // var query2 = firebase.database().ref(\"/\" + this.username + '/competing');\n\n    // query2.once(\"value\").then( snapshot => {\n    //   this.players = [];\n    //   snapshot.forEach( childSnapshot => {\n        \n    //     var childData1 = childSnapshot.val();\n        \n    //     this.players.push(childData1)\n    //     //alert(this.user._user);      \n    //   });\n    // });\n  }\n\n  setLevel () {\n    this.levels._levels.forEach( ( value, index) => {\n      if (this.gains > value.totalPoints) {\n        this.xcurrent = this.gains - value.totalPoints;\n        this.xlevel = value.level;\n        this.xtotal = value.levelPoints;\n        this.progress = this.xcurrent / this.xtotal * 100\n      }\n      if (this.xlevel < 10){\n        this.rank = \"FRAIL BODY\"\n      } else if ( this.xlevel >= 10 && this.xlevel < 20){\n        this.rank = \"GYM RAT\"\n      } else if ( this.xlevel >= 20 && this.xlevel < 30){\n        this.rank = \"BODYBUILDER\"\n      } else if ( this.xlevel > 30){\n        this.rank = \"OLYMPIAN\"\n      }\n    });\n  }\n\n  getProfileImageStyle() {\n\n    try {\n      //this.noLoad();\n      return 'url(' + this.user.profilePic + ')'\n    }\n    catch(err){\n    }\n    finally{ \n    }\n  }\n\n  goToCompeting(){\n    console.log(this.competingList)\n    this.navCtrl.push('FriendCompetingPage', {\n      list: this.competingList\n    });\n\n  }\n\n  goToCompetitors(){\n    this.navCtrl.push('CompetitorsPage', {\n      list: this.competitorsList\n    });\n    // this.realCompetitorsList = [];\n    // console.log(this.competitorsList)\n    // this.competitorsList.forEach((val) => {\n    //   this.loop = 0;\n    //   var queryPic = firebase.database().ref('/users/' + val + '/profilePic');\n    //   queryPic.once(\"value\").then( snapshot => {\n    //     var pic = snapshot.val();\n    //     this.realCompetitorsList.push({name: val, profilePic: pic})\n    //     this.loop++\n    //     if (this.loop == this.competitorsList.length){\n    //       this.navCtrl.push('CompetitorsPage', {\n    //         list: this.realCompetitorsList,\n    //         competing: this.competingList,\n    //       });\n    //     }\n    //   })\n    // })\n  }\n\n  goToRecords(){\n    this.navCtrl.push('FriendRecordsPage', {\n      user: this.user\n    });\n  }\n\n  goToGains(){\n    this.navCtrl.push('FriendGainsPage', {\n      user: this.user\n    });\n  }\n\n  addToLeaderboard(){\n    var check = true;\n    \n    this.players.forEach( value => {\n\n      if (value.name == this.username) {\n\n        this.alreadyCompeting();\n        check = false;\n      } \n    })\n    \n    if(check){\n      var competing = firebase.database().ref('/' + this.username + '/competing');\n      competing.child(this.username).set(this.user);\n\n      var competitors = firebase.database().ref('/' + this.username + '/competitors');\n      competitors.child(this.username).set(this.username);\n      this.playerAdded();\n    }\n  }\n\n  alreadyCompeting() {\n    let alert = this.alertCtrl.create({\n      title: 'You are already Cometing with this player!',\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n\n  playerAdded() {\n    let alert = this.alertCtrl.create({\n      title: 'Player added to your leaderboard!',\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/friend-profile/friend-profile.ts"],"sourceRoot":""}